<!doctype html><html lang=en class=no-js> 
<!-- Mirrored from vectorbt.pro/pvt_1606a55a/cookbook/knowledge/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 25 Nov 2024 22:01:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Recipes for knowledge"><meta name=author content="Oleg Polakow"><link href=https://vectorbt.pro/cookbook/knowledge/ rel=canonical><link href=../indicators/index.html rel=prev><link href=../optimization/index.html rel=next><link rel=icon href=../../assets/logo/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.32+insiders-4.53.12"><title>Knowledge - VectorBT PRO</title><link rel=stylesheet href=../../assets/stylesheets/main.dad623df.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/stylesheets/extra.css><link rel=stylesheet href=../../assets/stylesheets/custom-light.css><link rel=stylesheet href=../../assets/stylesheets/custom-dark.css><link rel=stylesheet href=../../assets/stylesheets/pygments-light.css><link rel=stylesheet href=../../assets/stylesheets/pygments-dark.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-0C5VNYCFHL"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-0C5VNYCFHL",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-0C5VNYCFHL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script><meta name=robots content=noindex><meta property=og:title content=Knowledge><meta property=og:type content=website><meta content=https://vectorbt.pro/cookbook/knowledge/ property=og:url><meta property=og:image:url content=https://vectorbt.pro/pvt_1606a55a/assets/logo/social-new.png><meta property=og:image:type content=image/png><meta property=og:description content="Recipes for knowledge"><meta property=og:locale content=en-GB><link rel=apple-touch-icon sizes=180x180 href=../../assets/logo/apple-touch-icon.png><link rel=icon type=image/svg+xml href=../../assets/logo/favicon.svg><link rel=icon type=image/png sizes=32x32 href=../../assets/logo/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../assets/logo/favicon-16x16.png><link rel=manifest href=../../assets/logo/site.webmanifest><link rel=mask-icon href=../../assets/logo/safari-pinned-tab.svg color=#1e1f22><link rel="shortcut icon" href=../../assets/logo/favicon.ico><meta name=msapplication-TileColor content=#1e1f22><meta name=msapplication-config content=https://vectorbt.pro/pvt_1606a55a/assets/logo/browserconfig.xml><meta name=theme-color content=#1e1f22><link href=../../../../unpkg.com/aos%402.3.4/dist/aos.css rel=stylesheet><script src=../../../../unpkg.com/aos%402.3.4/dist/aos.js></script><link href=http://fonts.cdnfonts.com/css/uni-neue rel=stylesheet><link rel=stylesheet href=../../../../cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=../../../../cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity="sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../../cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=preconnect href=https://fonts.googleapis.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin></head> <body dir=ltr data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#knowledge class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <i>What's new</i>: Knowledge assets, NumPy 2.0 support, and <a href=../../features/index.html><strong>more</strong></a> <span class="twemoji announce-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m153.6 29.9 16-21.3c4-5.4 10.4-8.6 17.1-8.6C198.4 0 208 9.6 208 21.3v22.2c0 13.1 5.4 25.7 14.9 34.7l84.7 80.8c48.8 46.6 76.4 111.2 76.4 178.7C384 434 306 512 209.7 512H192C86 512 0 426 0 320v-3.8c0-48.8 19.4-95.6 53.9-130.1l3.5-3.5c4.2-4.2 10-6.6 16-6.6 12.5 0 22.6 10.1 22.6 22.6V288c0 35.3 28.7 64 64 64s64-28.7 64-64v-3.9c0-18-7.2-35.3-19.9-48l-38.6-38.6c-24-24-37.5-56.7-37.5-90.7 0-27.7 9-54.8 25.6-76.9z"/></svg></span> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <!-- Determine class according to configuration --> <!-- Header --> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <!-- Link to home --> <a href=../../index.html title="VectorBT PRO" class="md-header__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../assets/logo/logo.svg alt=logo class=logo> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VectorBT PRO <span class=md-version> v2024.11.12 </span> <span class=unlock-icon><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224 64c-44.2 0-80 35.8-80 80v48h240c35.3 0 64 28.7 64 64v192c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64h16v-48C80 64.5 144.5 0 224 0c57.5 0 107 33.7 130.1 82.3 7.6 16 .8 35.1-15.2 42.6s-35.1.8-42.6-15.2C283.4 82.6 255.9 64 224 64zm32 320c17.7 0 32-14.3 32-32s-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32s14.3 32 32 32h64z"/></svg></span> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Knowledge </span> </div> </div> </div> <!-- Color palette --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=custom-light data-md-color-primary=custom-light data-md-color-accent=custom-light aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <!-- Site language selector --> <!-- Button to open search modal --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../features/overview/index.html class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../../tutorials/overview/index.html class=md-tabs__link> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../documentation/overview/index.html class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=../../api/index.html class=md-tabs__link> API </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../overview/index.html class=md-tabs__link> Cookbook </a> </li> <li class=md-tabs__item> <a href=../../terms/terms-of-use/index.html class=md-tabs__link> Terms </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title="VectorBT PRO" class="md-nav__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../assets/logo/logo.svg alt=logo class=logo> </a> VectorBT PRO </label> <div class=md-nav__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../features/overview/index.html class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tutorials/overview/index.html class=md-nav__link> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../documentation/overview/index.html class=md-nav__link> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../api/index.html class=md-nav__link> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Cookbook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Cookbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/index.html class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../arrays/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 2h14a2 2 0 0 1 2 2v12c0 1.11-.89 2-2 2H7a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2m0 4v4h6V6H7m8 0v4h6V6h-6m-8 6v4h6v-4H7m8 0v4h6v-4h-6M3 20V6H1v14c0 1.11.89 2 2 2h16v-2H3Z"/></svg> <span class=md-ellipsis> Arrays </span> </a> </li> <li class=md-nav__item> <a href=../benchmarking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 5a7 7 0 0 1 7 7h1v3h-1v4H9a7 7 0 0 1-7-7 7 7 0 0 1 7-7m0 3a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m8 9h5v4h-2v-2h-3v-2Z"/></svg> <span class=md-ellipsis> Benchmarking </span> </a> </li> <li class=md-nav__item> <a href=../caching/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 8-4 4h3a6 6 0 0 1-6 6c-1 0-1.97-.25-2.8-.7l-1.46 1.46A7.93 7.93 0 0 0 12 20a8 8 0 0 0 8-8h3M6 12a6 6 0 0 1 6-6c1 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0 0 12 4a8 8 0 0 0-8 8H1l4 4 4-4"/></svg> <span class=md-ellipsis> Caching </span> </a> </li> <li class=md-nav__item> <a href=../compilation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42.01A9.969 9.969 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13Z"/></svg> <span class=md-ellipsis> Compilation </span> </a> </li> <li class=md-nav__item> <a href=../configuration/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/></svg> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../cross-validation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41L18 7Z"/></svg> <span class=md-ellipsis> Cross-validation </span> </a> </li> <li class=md-nav__item> <a href=../data/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> Data </span> </a> </li> <li class=md-nav__item> <a href=../datetime/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <span class=md-ellipsis> Datetime </span> </a> </li> <li class=md-nav__item> <a href=../discovery/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3h6v4H3V3m12 7h6v4h-6v-4m0 7h6v4h-6v-4m-2-4H7v5h6v2H5V9h2v2h6v2Z"/></svg> <span class=md-ellipsis> Discovery </span> </a> </li> <li class=md-nav__item> <a href=../indexing/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 20.5c0 .8-.7 1.5-1.5 1.5H13c-.4 0-.7-.1-1-.4l-4-4.2.7-.8c.2-.2.5-.3.8-.3h.2L12 18V9c0-.6.4-1 1-1s1 .4 1 1v4.5l1.2.1 3.9 2.2c.5.2.9.8.9 1.3v3.4M20 2H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h4v-2H4V4h16v8h-2v2h2c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2Z"/></svg> <span class=md-ellipsis> Indexing </span> </a> </li> <li class=md-nav__item> <a href=../indicators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3 14 .5.07L8.07 9.5a1.95 1.95 0 0 1 .52-1.91c.78-.79 2.04-.79 2.82 0 .53.52.7 1.26.52 1.91l2.57 2.57.5-.07c.18 0 .35 0 .5.07l3.57-3.57C19 8.35 19 8.18 19 8a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2c-.18 0-.35 0-.5-.07l-3.57 3.57c.07.15.07.32.07.5a2 2 0 0 1-2 2 2 2 0 0 1-2-2l.07-.5-2.57-2.57c-.32.07-.68.07-1 0L4.93 15.5 5 16a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2Z"/></svg> <span class=md-ellipsis> Indicators </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21.33 12.91c.09 1.55-.62 3.04-1.89 3.95l.77 1.49c.23.45.26.98.06 1.45-.19.47-.58.84-1.06 1l-.79.25a1.687 1.687 0 0 1-1.86-.55L14.44 18c-.89-.15-1.73-.53-2.44-1.1-.5.15-1 .23-1.5.23-.88 0-1.76-.27-2.5-.79-.53.16-1.07.23-1.62.22-.79.01-1.57-.15-2.3-.45a4.105 4.105 0 0 1-2.43-3.61c-.08-.72.04-1.45.35-2.11-.29-.75-.32-1.57-.07-2.33C2.3 7.11 3 6.32 3.87 5.82c.58-1.69 2.21-2.82 4-2.7 1.6-1.5 4.05-1.66 5.83-.37.42-.11.86-.17 1.3-.17 1.36-.03 2.65.57 3.5 1.64 2.04.53 3.5 2.35 3.58 4.47.05 1.11-.25 2.2-.86 3.13.07.36.11.72.11 1.09m-5-1.41c.57.07 1.02.5 1.02 1.07a1 1 0 0 1-1 1h-.63c-.32.9-.88 1.69-1.62 2.29.25.09.51.14.77.21 5.13-.07 4.53-3.2 4.53-3.25a2.592 2.592 0 0 0-2.69-2.49 1 1 0 0 1-1-1 1 1 0 0 1 1-1c1.23.03 2.41.49 3.33 1.3.05-.29.08-.59.08-.89-.06-1.24-.62-2.32-2.87-2.53-1.25-2.96-4.4-1.32-4.4-.4-.03.23.21.72.25.75a1 1 0 0 1 1 1c0 .55-.45 1-1 1-.53-.02-1.03-.22-1.43-.56-.48.31-1.03.5-1.6.56-.57.05-1.04-.35-1.07-.9a.968.968 0 0 1 .88-1.1c.16-.02.94-.14.94-.77 0-.66.25-1.29.68-1.79-.92-.25-1.91.08-2.91 1.29C6.75 5 6 5.25 5.45 7.2 4.5 7.67 4 8 3.78 9c1.08-.22 2.19-.13 3.22.25.5.19.78.75.59 1.29-.19.52-.77.78-1.29.59-.73-.32-1.55-.34-2.3-.06-.32.27-.32.83-.32 1.27 0 .74.37 1.43 1 1.83.53.27 1.12.41 1.71.4-.15-.26-.28-.53-.39-.81a1.038 1.038 0 0 1 1.96-.68c.4 1.14 1.42 1.92 2.62 2.05 1.37-.07 2.59-.88 3.19-2.13.23-1.38 1.34-1.5 2.56-1.5m2 7.47-.62-1.3-.71.16 1 1.25.33-.11m-4.65-8.61a1 1 0 0 0-.91-1.03c-.71-.04-1.4.2-1.93.67-.57.58-.87 1.38-.84 2.19a1 1 0 0 0 1 1c.57 0 1-.45 1-1 0-.27.07-.54.23-.76.12-.1.27-.15.43-.15.55.03 1.02-.38 1.02-.92Z"/></svg> <span class=md-ellipsis> Knowledge </span> <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21.33 12.91c.09 1.55-.62 3.04-1.89 3.95l.77 1.49c.23.45.26.98.06 1.45-.19.47-.58.84-1.06 1l-.79.25a1.687 1.687 0 0 1-1.86-.55L14.44 18c-.89-.15-1.73-.53-2.44-1.1-.5.15-1 .23-1.5.23-.88 0-1.76-.27-2.5-.79-.53.16-1.07.23-1.62.22-.79.01-1.57-.15-2.3-.45a4.105 4.105 0 0 1-2.43-3.61c-.08-.72.04-1.45.35-2.11-.29-.75-.32-1.57-.07-2.33C2.3 7.11 3 6.32 3.87 5.82c.58-1.69 2.21-2.82 4-2.7 1.6-1.5 4.05-1.66 5.83-.37.42-.11.86-.17 1.3-.17 1.36-.03 2.65.57 3.5 1.64 2.04.53 3.5 2.35 3.58 4.47.05 1.11-.25 2.2-.86 3.13.07.36.11.72.11 1.09m-5-1.41c.57.07 1.02.5 1.02 1.07a1 1 0 0 1-1 1h-.63c-.32.9-.88 1.69-1.62 2.29.25.09.51.14.77.21 5.13-.07 4.53-3.2 4.53-3.25a2.592 2.592 0 0 0-2.69-2.49 1 1 0 0 1-1-1 1 1 0 0 1 1-1c1.23.03 2.41.49 3.33 1.3.05-.29.08-.59.08-.89-.06-1.24-.62-2.32-2.87-2.53-1.25-2.96-4.4-1.32-4.4-.4-.03.23.21.72.25.75a1 1 0 0 1 1 1c0 .55-.45 1-1 1-.53-.02-1.03-.22-1.43-.56-.48.31-1.03.5-1.6.56-.57.05-1.04-.35-1.07-.9a.968.968 0 0 1 .88-1.1c.16-.02.94-.14.94-.77 0-.66.25-1.29.68-1.79-.92-.25-1.91.08-2.91 1.29C6.75 5 6 5.25 5.45 7.2 4.5 7.67 4 8 3.78 9c1.08-.22 2.19-.13 3.22.25.5.19.78.75.59 1.29-.19.52-.77.78-1.29.59-.73-.32-1.55-.34-2.3-.06-.32.27-.32.83-.32 1.27 0 .74.37 1.43 1 1.83.53.27 1.12.41 1.71.4-.15-.26-.28-.53-.39-.81a1.038 1.038 0 0 1 1.96-.68c.4 1.14 1.42 1.92 2.62 2.05 1.37-.07 2.59-.88 3.19-2.13.23-1.38 1.34-1.5 2.56-1.5m2 7.47-.62-1.3-.71.16 1 1.25.33-.11m-4.65-8.61a1 1 0 0 0-.91-1.03c-.71-.04-1.4.2-1.93.67-.57.58-.87 1.38-.84 2.19a1 1 0 0 0 1 1c.57 0 1-.45 1-1 0-.27.07-.54.23-.76.12-.1.27-.15.43-.15.55.03 1.02-.38 1.02-.92Z"/></svg> <span class=md-ellipsis> Knowledge </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#assets class=md-nav__link> <span class=md-ellipsis> Assets </span> </a> <nav class=md-nav aria-label=Assets> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vbt-assets class=md-nav__link> <span class=md-ellipsis> VBT assets </span> </a> </li> <li class=md-nav__item> <a href=#generic-assets class=md-nav__link> <span class=md-ellipsis> Generic assets </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#describing class=md-nav__link> <span class=md-ellipsis> Describing </span> </a> </li> <li class=md-nav__item> <a href=#manipulating class=md-nav__link> <span class=md-ellipsis> Manipulating </span> </a> </li> <li class=md-nav__item> <a href=#querying class=md-nav__link> <span class=md-ellipsis> Querying </span> </a> </li> <li class=md-nav__item> <a href=#applying class=md-nav__link> <span class=md-ellipsis> Applying </span> </a> </li> <li class=md-nav__item> <a href=#reducing class=md-nav__link> <span class=md-ellipsis> Reducing </span> </a> </li> <li class=md-nav__item> <a href=#aggregating class=md-nav__link> <span class=md-ellipsis> Aggregating </span> </a> </li> <li class=md-nav__item> <a href=#traversing class=md-nav__link> <span class=md-ellipsis> Traversing </span> </a> </li> <li class=md-nav__item> <a href=#formatting class=md-nav__link> <span class=md-ellipsis> Formatting </span> </a> </li> <li class=md-nav__item> <a href=#displaying class=md-nav__link> <span class=md-ellipsis> Displaying </span> </a> </li> <li class=md-nav__item> <a href=#combining class=md-nav__link> <span class=md-ellipsis> Combining </span> </a> </li> <li class=md-nav__item> <a href=#chatting class=md-nav__link> <span class=md-ellipsis> Chatting </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../optimization/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16h-.58l-.81-.81A7.07 7.07 0 0 0 18 11c0-3.87-3.13-7-7-7-1.5 0-3 .5-4.21 1.4-3.09 2.32-3.72 6.71-1.4 9.8 2.32 3.09 6.71 3.72 9.8 1.4l.81.81V18l5 5 2-2-5-5m-7 0c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5M3 6 1 8V1h7L6 3H3v3m18-5v7l-2-2V3h-3l-2-2h7M6 19l2 2H1v-7l2 2v3h3Z"/></svg> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../persistence/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 12h2v5h16v-5h2v5c0 1.11-.89 2-2 2H4a2 2 0 0 1-2-2v-5m10 3 5.55-5.46-1.42-1.41L13 11.25V2h-2v9.25L7.88 8.13 6.46 9.55 12 15Z"/></svg> <span class=md-ellipsis> Persistence </span> </a> </li> <li class=md-nav__item> <a href=../plotting/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.2 11.2c1.77 0 3.2 1.43 3.2 3.2 0 1.77-1.43 3.2-3.2 3.2-1.77 0-3.2-1.43-3.2-3.2 0-1.77 1.43-3.2 3.2-3.2m7.6 4.8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m.4-12A4.8 4.8 0 0 1 20 8.8c0 2.65-2.15 4.8-4.8 4.8a4.8 4.8 0 0 1-4.8-4.8c0-2.65 2.15-4.8 4.8-4.8Z"/></svg> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../portfolio/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56 6.49 3.74Z"/></svg> <span class=md-ellipsis> Portfolio </span> </a> </li> <li class=md-nav__item> <a href=../signals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> Signals </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../terms/terms-of-use/index.html class=md-nav__link> <span class=md-ellipsis> Terms </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=knowledge><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21.33 12.91c.09 1.55-.62 3.04-1.89 3.95l.77 1.49c.23.45.26.98.06 1.45-.19.47-.58.84-1.06 1l-.79.25a1.687 1.687 0 0 1-1.86-.55L14.44 18c-.89-.15-1.73-.53-2.44-1.1-.5.15-1 .23-1.5.23-.88 0-1.76-.27-2.5-.79-.53.16-1.07.23-1.62.22-.79.01-1.57-.15-2.3-.45a4.105 4.105 0 0 1-2.43-3.61c-.08-.72.04-1.45.35-2.11-.29-.75-.32-1.57-.07-2.33C2.3 7.11 3 6.32 3.87 5.82c.58-1.69 2.21-2.82 4-2.7 1.6-1.5 4.05-1.66 5.83-.37.42-.11.86-.17 1.3-.17 1.36-.03 2.65.57 3.5 1.64 2.04.53 3.5 2.35 3.58 4.47.05 1.11-.25 2.2-.86 3.13.07.36.11.72.11 1.09m-5-1.41c.57.07 1.02.5 1.02 1.07a1 1 0 0 1-1 1h-.63c-.32.9-.88 1.69-1.62 2.29.25.09.51.14.77.21 5.13-.07 4.53-3.2 4.53-3.25a2.592 2.592 0 0 0-2.69-2.49 1 1 0 0 1-1-1 1 1 0 0 1 1-1c1.23.03 2.41.49 3.33 1.3.05-.29.08-.59.08-.89-.06-1.24-.62-2.32-2.87-2.53-1.25-2.96-4.4-1.32-4.4-.4-.03.23.21.72.25.75a1 1 0 0 1 1 1c0 .55-.45 1-1 1-.53-.02-1.03-.22-1.43-.56-.48.31-1.03.5-1.6.56-.57.05-1.04-.35-1.07-.9a.968.968 0 0 1 .88-1.1c.16-.02.94-.14.94-.77 0-.66.25-1.29.68-1.79-.92-.25-1.91.08-2.91 1.29C6.75 5 6 5.25 5.45 7.2 4.5 7.67 4 8 3.78 9c1.08-.22 2.19-.13 3.22.25.5.19.78.75.59 1.29-.19.52-.77.78-1.29.59-.73-.32-1.55-.34-2.3-.06-.32.27-.32.83-.32 1.27 0 .74.37 1.43 1 1.83.53.27 1.12.41 1.71.4-.15-.26-.28-.53-.39-.81a1.038 1.038 0 0 1 1.96-.68c.4 1.14 1.42 1.92 2.62 2.05 1.37-.07 2.59-.88 3.19-2.13.23-1.38 1.34-1.5 2.56-1.5m2 7.47-.62-1.3-.71.16 1 1.25.33-.11m-4.65-8.61a1 1 0 0 0-.91-1.03c-.71-.04-1.4.2-1.93.67-.57.58-.87 1.38-.84 2.19a1 1 0 0 0 1 1c.57 0 1-.45 1-1 0-.27.07-.54.23-.76.12-.1.27-.15.43-.15.55.03 1.02-.38 1.02-.92Z"/></svg></span> Knowledge <span class="twemoji mdx-pulse" title="Recently added"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12m-10 5h-2v-2h2v2m0-4h-2V7h2v6Z"/></svg></span><a class=headerlink href=#knowledge title="Permanent link">&para;</a></h1> <h2 id=assets>Assets<a class=headerlink href=#assets title="Permanent link">&para;</a></h2> <p>Knowledge assets are instances of <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset>KnowledgeAsset</a> that hold a list of Python objects (most often dicts) and expose various methods to manipulate them. For usage examples, see the API documentation of the particular method.</p> <h3 id=vbt-assets>VBT assets<a class=headerlink href=#vbt-assets title="Permanent link">&para;</a></h3> <p>There are two knowledge assets in VBT: 1) website pages, and 2) Discord messages. The former asset consists of pages and headings that you can find on the (mainly private) website. Each data item represents a page or a heading of a page. Pages usually just point to one or more other pages and/or headings, while headings themselves hold text content - it all reflects the structure of Markdown files. The latter asset consists of the message history of the "vectorbt.pro" Discord server. Here, each data item represents a Discord message that may reference other Discord message(s) through replies. </p> <p>The assets are attached to each <a href=https://github.com/polakowo/vectorbt.pro/releases>release</a> as <code>pages.json.zip</code> and <code>messages.json.zip</code> respectively, which is a ZIP-compressed JSON file. This file is managed by the class <a href=../../api/utils/knowledge/custom_assets/index.html#vectorbtpro.utils.knowledge.custom_assets.PagesAsset>PagesAsset</a> and <a href=../../api/utils/knowledge/custom_assets/index.html#vectorbtpro.utils.knowledge.custom_assets.MessagesAsset>MessagesAsset</a> respectively. It can be either loaded automatically or manually. When loading automatically, GitHub token must be provided.</p> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>The first pull will download the assets, while subsequent pulls will use the cached versions.</p> </div> <div class="language-python highlight"><span class=filename>How to load an asset</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>env</span><span class=p>[</span><span class=s2>&quot;GITHUB_TOKEN&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;YOUR_GITHUB_TOKEN&quot;</span>  <span class=c1># (1)!</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>messages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>MessagesAsset</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>assets</span><span class=p>[</span><span class=s2>&quot;vbt&quot;</span><span class=p>][</span><span class=s2>&quot;token&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;YOUR_GITHUB_TOKEN&quot;</span> <span class=c1># (2)!</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>messages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>MessagesAsset</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=p>(</span><span class=o>/</span><span class=n>MessagesAsset</span><span class=p>)</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>release_name</span><span class=o>=</span><span class=s2>&quot;v2024.8.20&quot;</span><span class=p>)</span> <span class=c1># (3)!</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=p>(</span><span class=o>/</span><span class=n>MessagesAsset</span><span class=p>)</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>cache_dir</span><span class=o>=</span><span class=s2>&quot;my_cache_dir&quot;</span><span class=p>)</span> <span class=c1># (4)!</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=p>(</span><span class=o>/</span><span class=n>MessagesAsset</span><span class=p>)</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>clear_cache</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span> <span class=c1># (5)!</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=p>(</span><span class=o>/</span><span class=n>MessagesAsset</span><span class=p>)</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>cache</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=n>pages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PagesAsset</span><span class=o>.</span><span class=n>from_json_file</span><span class=p>(</span><span class=s2>&quot;pages.json.zip&quot;</span><span class=p>)</span> <span class=c1># (7)!</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=n>messages_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>MessagesAsset</span><span class=o>.</span><span class=n>from_json_file</span><span class=p>(</span><span class=s2>&quot;messages.json.zip&quot;</span><span class=p>)</span>
</span></code></pre></div> <ol> <li>Set the token as an environment variable</li> <li>Set the token as a global setting</li> <li>Use the asset of a different release. By default, uses the asset of the installed release (see <code>vbt.version</code>).</li> <li>Specify a different cache directory. By default, stores data in <strong>./knowledge/pages/$release_name</strong> for pages and <strong>./knowledge/messages/$release_name</strong> for messages.</li> <li>Clear the cache directory and pull the asset once again. By default, won't pull if the asset already exists.</li> <li>Create a temporary directory</li> <li>Load the asset file that has already been downloaded</li> </ol> <h3 id=generic-assets>Generic assets<a class=headerlink href=#generic-assets title="Permanent link">&para;</a></h3> <p>Knowledge assets are not limited to VBT assets - you can construct an asset out of any list!</p> <div class="language-python highlight"><span class=filename>How to load an asset</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>KnowledgeAsset</span><span class=p>(</span><span class=n>my_list</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>KnowledgeAsset</span><span class=o>.</span><span class=n>from_json_file</span><span class=p>(</span><span class=s2>&quot;my_list.json&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>KnowledgeAsset</span><span class=o>.</span><span class=n>from_json_bytes</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>load_bytes</span><span class=p>(</span><span class=s2>&quot;my_list.json&quot;</span><span class=p>))</span>  <span class=c1># (3)!</span>
</span></code></pre></div> <ol> <li>Create an instance by wrapping a list directly</li> <li>Create an instance from a JSON file</li> <li>Create an instance from JSON bytes</li> </ol> <h2 id=describing>Describing<a class=headerlink href=#describing title="Permanent link">&para;</a></h2> <p>Knowledge assets behave like regular lists, thus, to describe an asset, you should describe it as a list. This gives us many analysis options like assessing the length, printing out a random data item, but also more sophisticated options like printing out the field schema - most data items of an asset are dicts, so you can describe them by their fields.</p> <div class="language-python highlight"><span class=filename>How to describe an asset</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>asset</span><span class=p>))</span>  <span class=c1># (1)!</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=n>asset</span><span class=o>.</span><span class=n>sample</span><span class=p>()</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>  <span class=c1># (2)!</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=n>asset</span><span class=o>.</span><span class=n>print_sample</span><span class=p>()</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=n>asset</span><span class=o>.</span><span class=n>print_schema</span><span class=p>()</span>  <span class=c1># (3)!</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=n>vbt</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>messages_asset</span><span class=o>.</span><span class=n>describe</span><span class=p>())</span>  <span class=c1># (4)!</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=n>pages_asset</span><span class=o>.</span><span class=n>print_site_schema</span><span class=p>()</span>  <span class=c1># (5)!</span>
</span></code></pre></div> <ol> <li>Get the number of data items</li> <li>Pick a random data item and print it</li> <li>Visualize the asset's field schema as a tree. Shows each field, including the frequency and type. Works on all assets where data items are dicts.</li> <li>Describe each field. Works on all assets where data items are dicts.</li> <li>Visualize URL schema as a tree. Works on pages and headings only.</li> </ol> <h2 id=manipulating>Manipulating<a class=headerlink href=#manipulating title="Permanent link">&para;</a></h2> <p>A knowledge asset is just a sophisticated list: it looks like a VBT object but behaves like a list. For manipulation, <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset>KnowledgeAsset</a> offers a collection of methods that end with <code>item</code> or <code>items</code> to get, set, or remove data items, either by returning a new asset instance (default) or modifying the asset instance in place.</p> <div class="language-python highlight"><span class=filename>How to manipulate an asset</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>d</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>get_item</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>d</span> <span class=o>=</span> <span class=n>asset</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=n>data</span> <span class=o>=</span> <span class=n>asset</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>100</span><span class=p>]</span>  <span class=c1># (2)!</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=n>data</span> <span class=o>=</span> <span class=n>asset</span><span class=p>[</span><span class=n>mask</span><span class=p>]</span>  <span class=c1># (3)!</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=n>data</span> <span class=o>=</span> <span class=n>asset</span><span class=p>[</span><span class=n>indices</span><span class=p>]</span>  <span class=c1># (4)!</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>set_item</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>new_d</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=n>asset</span><span class=o>.</span><span class=n>set_item</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>new_d</span><span class=p>,</span> <span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=n>asset</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_d</span>  <span class=c1># (7)!</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=n>asset</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>100</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_data</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=n>asset</span><span class=p>[</span><span class=n>mask</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_data</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=n>asset</span><span class=p>[</span><span class=n>indices</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_data</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>remove_item</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>  <span class=c1># (8)!</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=n>asset</span><span class=o>.</span><span class=n>remove_item</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=n>asset</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=k>del</span> <span class=n>asset</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a><span class=k>del</span> <span class=n>asset</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>100</span><span class=p>]</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a><span class=k>del</span> <span class=n>asset</span><span class=p>[</span><span class=n>mask</span><span class=p>]</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a><span class=k>del</span> <span class=n>asset</span><span class=p>[</span><span class=n>indices</span><span class=p>]</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a>
</span><span id=__span-3-28><a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>append_item</span><span class=p>(</span><span class=n>new_d</span><span class=p>)</span>  <span class=c1># (9)!</span>
</span><span id=__span-3-29><a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a><span class=n>asset</span><span class=o>.</span><span class=n>append_item</span><span class=p>(</span><span class=n>new_d</span><span class=p>,</span> <span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-3-30><a id=__codelineno-3-30 name=__codelineno-3-30 href=#__codelineno-3-30></a><span class=n>asset</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>new_d</span><span class=p>)</span>
</span><span id=__span-3-31><a id=__codelineno-3-31 name=__codelineno-3-31 href=#__codelineno-3-31></a>
</span><span id=__span-3-32><a id=__codelineno-3-32 name=__codelineno-3-32 href=#__codelineno-3-32></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-3-33><a id=__codelineno-3-33 name=__codelineno-3-33 href=#__codelineno-3-33></a>
</span><span id=__span-3-34><a id=__codelineno-3-34 name=__codelineno-3-34 href=#__codelineno-3-34></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>extend_items</span><span class=p>([</span><span class=n>new_d1</span><span class=p>,</span> <span class=n>new_d2</span><span class=p>])</span>  <span class=c1># (10)!</span>
</span><span id=__span-3-35><a id=__codelineno-3-35 name=__codelineno-3-35 href=#__codelineno-3-35></a><span class=n>asset</span><span class=o>.</span><span class=n>extend_items</span><span class=p>([</span><span class=n>new_d1</span><span class=p>,</span> <span class=n>new_d2</span><span class=p>],</span> <span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-3-36><a id=__codelineno-3-36 name=__codelineno-3-36 href=#__codelineno-3-36></a><span class=n>asset</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span><span class=n>new_d1</span><span class=p>,</span> <span class=n>new_d2</span><span class=p>])</span>
</span><span id=__span-3-37><a id=__codelineno-3-37 name=__codelineno-3-37 href=#__codelineno-3-37></a><span class=n>asset</span> <span class=o>+=</span> <span class=p>[</span><span class=n>new_d1</span><span class=p>,</span> <span class=n>new_d2</span><span class=p>]</span>
</span><span id=__span-3-38><a id=__codelineno-3-38 name=__codelineno-3-38 href=#__codelineno-3-38></a>
</span><span id=__span-3-39><a id=__codelineno-3-39 name=__codelineno-3-39 href=#__codelineno-3-39></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-3-40><a id=__codelineno-3-40 name=__codelineno-3-40 href=#__codelineno-3-40></a>
</span><span id=__span-3-41><a id=__codelineno-3-41 name=__codelineno-3-41 href=#__codelineno-3-41></a><span class=nb>print</span><span class=p>(</span><span class=n>d</span> <span class=ow>in</span> <span class=n>asset</span><span class=p>)</span>  <span class=c1># (11)!</span>
</span><span id=__span-3-42><a id=__codelineno-3-42 name=__codelineno-3-42 href=#__codelineno-3-42></a><span class=nb>print</span><span class=p>(</span><span class=n>asset</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>d</span><span class=p>))</span>  <span class=c1># (12)!</span>
</span><span id=__span-3-43><a id=__codelineno-3-43 name=__codelineno-3-43 href=#__codelineno-3-43></a><span class=nb>print</span><span class=p>(</span><span class=n>asset</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=n>d</span><span class=p>))</span>  <span class=c1># (13)!</span>
</span><span id=__span-3-44><a id=__codelineno-3-44 name=__codelineno-3-44 href=#__codelineno-3-44></a>
</span><span id=__span-3-45><a id=__codelineno-3-45 name=__codelineno-3-45 href=#__codelineno-3-45></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-3-46><a id=__codelineno-3-46 name=__codelineno-3-46 href=#__codelineno-3-46></a>
</span><span id=__span-3-47><a id=__codelineno-3-47 name=__codelineno-3-47 href=#__codelineno-3-47></a><span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>asset</span><span class=p>:</span>  <span class=c1># (14)!</span>
</span><span id=__span-3-48><a id=__codelineno-3-48 name=__codelineno-3-48 href=#__codelineno-3-48></a>    <span class=o>...</span>
</span></code></pre></div> <ol> <li>Get the first data item</li> <li>Get the first 100 data items</li> <li>Get the data items that correspond to True in the mask</li> <li>Get the data items that correspond to the positions in the index array</li> <li>Set the first data item by returning a new asset instance</li> <li>Set the first data item by modifying the asset instance</li> <li>Built-in methods all modify the existing asset instance</li> <li>Remove the first data item</li> <li>Append a new data item</li> <li>Extend with new data items</li> <li>Check if the asset instance contains a data item</li> <li>Get the position of a data item in the asset instance</li> <li>Get the number of data items in the asset instance that match a data item</li> <li>Iterate over data items</li> </ol> <h2 id=querying>Querying<a class=headerlink href=#querying title="Permanent link">&para;</a></h2> <p>There is a zoo of methods to query an asset: <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.get>get</a> + <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.select>select</a>, <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.query>query</a> + <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.filter>filter</a>, and <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.find>find</a>. The first pair is used to get and process one to multiple fields from each data item. The <code>get</code> method returns the raw output while the <code>select</code> method returns a new asset instance. The second pair is used to run queries against the asset using various engines such as JMESPath. And again, the <code>query</code> method returns the raw output while the <code>filter</code> method returns a new asset instance. Finally, the <code>find</code> method is specialized at finding information across one to multiple fields. By default, it returns a new asset instance.</p> <div class="language-python highlight"><span class=filename>How to query an asset</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>messages</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=n>total_reactions</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>messages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;reactions&quot;</span><span class=p>))</span>  <span class=c1># (2)!</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=n>first_attachments</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;attachments[0][&#39;content&#39;]&quot;</span><span class=p>,</span> <span class=n>skip_missing</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=n>first_attachments</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;attachments.0.content&quot;</span><span class=p>,</span> <span class=n>skip_missing</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=n>stripped_contents</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=s2>&quot;x.strip() if x else &#39;&#39;&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=n>stripped_contents</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=k>if</span> <span class=n>x</span> <span class=k>else</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=n>stripped_contents</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=s2>&quot;content.strip() if content else &#39;&#39;&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=c1># (8)!</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=n>all_contents</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>remove_empty</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (9)!</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=n>all_attachments</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;attachments&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (10)!</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=n>combined_content</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>Sub</span><span class=p>(</span><span class=s1>&#39;[$author] $content&#39;</span><span class=p>))</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>  <span class=c1># (11)!</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=n>user_questions</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;content if &#39;@polakowo&#39; in mentions else vbt.NoResult&quot;</span><span class=p>)</span>  <span class=c1># (12)!</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=n>is_user_question</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;&#39;@polakowo&#39; in mentions&quot;</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;bool&quot;</span><span class=p>)</span>  <span class=c1># (13)!</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=n>all_attachments</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;[].attachments | []&quot;</span><span class=p>,</span> <span class=n>query_engine</span><span class=o>=</span><span class=s2>&quot;jmespath&quot;</span><span class=p>)</span>  <span class=c1># (14)!</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=n>all_classes</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;name[obj_type == &#39;class&#39;].sort_values()&quot;</span><span class=p>,</span> <span class=n>query_engine</span><span class=o>=</span><span class=s2>&quot;pandas&quot;</span><span class=p>)</span>  <span class=c1># (15)!</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=c1># (16)!</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=n>support</span> <span class=n>messages</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=s2>&quot;channel == &#39;support&#39;&quot;</span><span class=p>)</span>  <span class=c1># (17)!</span>
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&quot;@polakowo&quot;</span><span class=p>)</span>  <span class=c1># (18)!</span>
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&quot;@polakowo&quot;</span><span class=p>,</span> <span class=n>path</span><span class=o>=</span><span class=s2>&quot;author&quot;</span><span class=p>)</span>  <span class=c1># (19)!</span>
</span><span id=__span-4-30><a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>Not</span><span class=p>(</span><span class=s2>&quot;@polakowo&quot;</span><span class=p>),</span> <span class=n>path</span><span class=o>=</span><span class=s2>&quot;author&quot;</span><span class=p>)</span>  <span class=c1># (20)!</span>
</span><span id=__span-4-31><a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>  <span class=c1># (21)!</span>
</span><span id=__span-4-32><a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>    <span class=p>[</span><span class=s2>&quot;@polakowo&quot;</span><span class=p>,</span> <span class=s2>&quot;from_signals&quot;</span><span class=p>],</span> 
</span><span id=__span-4-33><a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a>    <span class=n>path</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;author&quot;</span><span class=p>,</span> <span class=s2>&quot;content&quot;</span><span class=p>],</span> 
</span><span id=__span-4-34><a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a>    <span class=n>find_all</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-4-35><a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a><span class=p>)</span>
</span><span id=__span-4-36><a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a>
</span><span id=__span-4-37><a id=__codelineno-4-37 name=__codelineno-4-37 href=#__codelineno-4-37></a><span class=n>found_fields</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>  <span class=c1># (22)!</span>
</span><span id=__span-4-38><a id=__codelineno-4-38 name=__codelineno-4-38 href=#__codelineno-4-38></a>    <span class=p>[</span><span class=s2>&quot;vbt.Portfolio&quot;</span><span class=p>,</span> <span class=s2>&quot;vbt.PF&quot;</span><span class=p>],</span> 
</span><span id=__span-4-39><a id=__codelineno-4-39 name=__codelineno-4-39 href=#__codelineno-4-39></a>    <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;field&quot;</span>
</span><span id=__span-4-40><a id=__codelineno-4-40 name=__codelineno-4-40 href=#__codelineno-4-40></a><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span><span id=__span-4-41><a id=__codelineno-4-41 name=__codelineno-4-41 href=#__codelineno-4-41></a><span class=n>found_code_matches</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>  <span class=c1># (23)!</span>
</span><span id=__span-4-42><a id=__codelineno-4-42 name=__codelineno-4-42 href=#__codelineno-4-42></a>    <span class=sa>r</span><span class=s2>&quot;(?&lt;!`)`([^`]*)`(?!`)&quot;</span><span class=p>,</span> 
</span><span id=__span-4-43><a id=__codelineno-4-43 name=__codelineno-4-43 href=#__codelineno-4-43></a>    <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;regex&quot;</span><span class=p>,</span> 
</span><span id=__span-4-44><a id=__codelineno-4-44 name=__codelineno-4-44 href=#__codelineno-4-44></a>    <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;match&quot;</span>
</span><span id=__span-4-45><a id=__codelineno-4-45 name=__codelineno-4-45 href=#__codelineno-4-45></a><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>unique</span><span class=p>()</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span></code></pre></div> <ol> <li>Get all data items. Same as <code>messages_asset.data</code>.</li> <li>Get the value under a simple field from each data item. Here, get and sum the number of reactions.</li> <li>Get the value under a nested field from each data item. Also, if the existence of the field is not guaranteed, skip data items where the field is missing.</li> <li>The path to the value can also be expressed via the dot notation</li> <li>Post-process the value using a source expression. Here, strip the select value ("content").</li> <li>The source can also be a function</li> <li>If no value was selected, the source expression/function is applied to the entire data item, where the data item is denoted by "x" and its fields are denoted by their names</li> <li>If the result needs to be processed further, use <code>select</code> instead of <code>get</code>. It accepts the same arguments.</li> <li>Select contents while removing None and empty strings</li> <li>Select attachments, merge them into a list, and extract</li> <li>Format the author and content into a string, and join the strings</li> <li>Return the content if <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> is in the mentions, else ignore. The expression here acts similarly to the source expression in <code>get</code>.</li> <li>Return True if <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> is in the mentions, else False. Without <code>return_type="bool"</code>, it would have acted like a filter and returned the data items that satisfy the condition.</li> <li>Use JMESPath to extract all attachments</li> <li>You can even use Pandas as a query engine where each field will become a Series. Here, get the heading name of every data item that has "class" as object type, and sort.</li> <li>If the result needs to be processed further, use <code>filter</code> instead of <code>query</code>. It accepts the same arguments.</li> <li>Filter messages that belong to the support channel</li> <li>Find messages that mention <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> in any field</li> <li>Find messages that have <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> as author</li> <li>Find messages that don't have <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> as author</li> <li>Find messages that have <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> as author and mention <code>from_signals</code> in the content. If <code>find_all</code> was False, the conjunction would be "or".</li> <li>Find all fields that mention either <code>vbt.Portfolio</code> or <code>vbt.PF</code></li> <li>Find all RegEx matches for code snippets with a single backtick</li> </ol> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>To make chained calls more readable, use one of the following two styles:</p> <div class="language-python highlight"><span class=filename>How to find admonitions</span><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>found_admonitions</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=n>pages_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>        <span class=sa>r</span><span class=s2>&quot;!!!\s+(\w+)&quot;</span><span class=p>,</span> 
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>        <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;regex&quot;</span><span class=p>,</span> 
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>        <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;match&quot;</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>    <span class=p>)</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    <span class=o>.</span><span class=n>merge</span><span class=p>()</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>    <span class=o>.</span><span class=n>unique</span><span class=p>()</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>    <span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>    <span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=p>)</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=n>found_admonitions</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>chain</span><span class=p>([</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>    <span class=p>(</span><span class=s2>&quot;find&quot;</span><span class=p>,</span> <span class=p>(</span><span class=sa>r</span><span class=s2>&quot;!!!\s+(\w+)&quot;</span><span class=p>,),</span> <span class=nb>dict</span><span class=p>(</span><span class=n>mode</span><span class=o>=</span><span class=s2>&quot;regex&quot;</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;match&quot;</span><span class=p>)),</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>    <span class=s2>&quot;merge&quot;</span><span class=p>,</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>    <span class=s2>&quot;unique&quot;</span><span class=p>,</span>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>    <span class=s2>&quot;sort&quot;</span><span class=p>,</span>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>    <span class=s2>&quot;get&quot;</span>
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a><span class=p>])</span>
</span></code></pre></div> </div> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>There is a specialized method for finding code, either in single backticks or blocks.</p> <div class="language-python highlight"><span class=filename>How to find code</span><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>found_code_blocks</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_code</span><span class=p>()</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>found_code_blocks</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_code</span><span class=p>(</span><span class=n>language</span><span class=o>=</span><span class=s2>&quot;python&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (2)!</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=n>found_code_blocks</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_code</span><span class=p>(</span><span class=s2>&quot;from_signals&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (3)!</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=n>found_code_blocks</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_code</span><span class=p>(</span><span class=s2>&quot;from_signals&quot;</span><span class=p>,</span> <span class=n>in_blocks</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (4)!</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=n>found_code_blocks</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_code</span><span class=p>(</span><span class=s2>&quot;from_signals&quot;</span><span class=p>,</span> <span class=n>path</span><span class=o>=</span><span class=s2>&quot;attachments&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>  <span class=c1># (5)!</span>
</span></code></pre></div> <ol> <li>Find any code blocks across all fields</li> <li>Find any Python code blocks across all fields</li> <li>Find code blocks that mention <code>from_signals</code> across all fields</li> <li>Find code that mention <code>from_signals</code> across all fields</li> <li>Find code blocks that mention <code>from_signals</code> across attachments</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>Custom knowledge assets like pages and messages also have specialized methods for finding data items by their link. The default behavior is to match the target against the end of each link, such that searching for both "<a href=https://vectorbt.pro/become-a-member/ >https://vectorbt.pro/become-a-member/</a>" and "become-a-member/" will reliably return "<a href=https://vectorbt.pro/become-a-member/ >https://vectorbt.pro/become-a-member/</a>". Also, it automatically adds a variant with the slash or without if either "exact" or "end" mode is used, such that searching for "become-a-member" (without slash) will still return "<a href=https://vectorbt.pro/become-a-member/ >https://vectorbt.pro/become-a-member/</a>". This will also disregard another matched link "<a href=https://vectorbt.pro/become-a-member/#become-a-member>https://vectorbt.pro/become-a-member/#become-a-member</a>" as it belongs to the same page.</p> <div class="language-python highlight"><span class=filename>How to find links</span><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_link</span><span class=p>(</span>  <span class=c1># (1)!</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=s2>&quot;https://discord.com/channels/918629562441695344/919715148896301067/923327319882485851&quot;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=p>)</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>find_link</span><span class=p>(</span><span class=s2>&quot;919715148896301067/923327319882485851&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_page</span><span class=p>(</span>  <span class=c1># (3)!</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>    <span class=s2>&quot;https://vectorbt.pro/pvt_xxxxxxxx/getting-started/installation/&quot;</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=p>)</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_page</span><span class=p>(</span><span class=s2>&quot;https://vectorbt.pro/pvt_1606a55a/getting-started/installation/&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_page</span><span class=p>(</span><span class=s2>&quot;installation/&quot;</span><span class=p>)</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_page</span><span class=p>(</span><span class=s2>&quot;installation&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_page</span><span class=p>(</span><span class=s2>&quot;installation&quot;</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span></code></pre></div> <ol> <li>Find the message based on a Discord URL</li> <li>Find the message based on a suffix. Here, <code>channel_id/message_id</code>.</li> <li>Find the page based on a website URL</li> <li>Find the page based on a suffix</li> <li>Slash will be added automatically</li> <li>Find page but also <a href=#aggregating>aggregate</a> it</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>You can also find headings that correspond to VBT objects.</p> <div class="language-python highlight"><span class=filename>How to find objects</span><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_obj</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_obj</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_obj</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>PF</span><span class=o>.</span><span class=n>from_signals</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_obj</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_obj</span><span class=p>(</span><span class=s2>&quot;SignalContext&quot;</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <ol> <li>Get the top-level heading corresponding to the class <code>Portfolio</code></li> <li>Get the top-level heading corresponding to the class <code>Portfolio</code> with all sub-headings</li> </ol> <h2 id=applying>Applying<a class=headerlink href=#applying title="Permanent link">&para;</a></h2> <p>"Find" and many other methods rely upon <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.apply>KnowledgeAsset.apply</a>, which executes a function on each data item. They are so-called asset functions, which consist of two parts: argument preparation and function calling. The main benefit is that arguments are prepared only once and then passed to each function call. The execution is done via the mighty <a href=../../api/utils/execution/index.html#vectorbtpro.utils.execution.execute>execute</a> function, which is capable of parallelization.</p> <div class="language-python highlight"><span class=filename>How to apply a function to an asset</span><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>links</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=s2>&quot;get&quot;</span><span class=p>,</span> <span class=s2>&quot;link&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=kn>from</span> <span class=nn>vectorbtpro.utils.knowledge.base_asset_funcs</span> <span class=kn>import</span> <span class=n>GetAssetFunc</span>  <span class=c1># (2)!</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span> <span class=o>=</span> <span class=n>GetAssetFunc</span><span class=o>.</span><span class=n>prepare</span><span class=p>(</span><span class=s2>&quot;link&quot;</span><span class=p>)</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=n>links</span> <span class=o>=</span> <span class=p>[</span><span class=n>GetAssetFunc</span><span class=o>.</span><span class=n>call</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>messages_asset</span><span class=p>]</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=n>links_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>d</span><span class=p>:</span> <span class=n>d</span><span class=p>[</span><span class=s2>&quot;link&quot;</span><span class=p>])</span>  <span class=c1># (3)!</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=n>links</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>d</span><span class=p>:</span> <span class=n>d</span><span class=p>[</span><span class=s2>&quot;link&quot;</span><span class=p>],</span> <span class=n>wrap</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=n>json_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>dump</span><span class=p>,</span> <span class=n>dump_engine</span><span class=o>=</span><span class=s2>&quot;json&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span>  <span class=c1># (6)!</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>    <span class=o>...</span><span class=p>,</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>    <span class=n>execute_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>        <span class=n>n_chunks</span><span class=o>=</span><span class=s2>&quot;auto&quot;</span><span class=p>,</span> 
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>        <span class=n>distribute</span><span class=o>=</span><span class=s2>&quot;chunks&quot;</span><span class=p>,</span> 
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>        <span class=n>engine</span><span class=o>=</span><span class=s2>&quot;processpool&quot;</span>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>    <span class=p>)</span>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a><span class=p>)</span>
</span></code></pre></div> <ol> <li>Apply a built-in function. This operation is equivalent to <code>get("link")</code>. Whether to return a new asset instance or the raw output depends on the function.</li> <li>Same as above but manually</li> <li>Apply a custom function. By default, returns a new asset instance.</li> <li>Apply a custom function and return the raw output</li> <li>All functions that require a single argument can be used. Here, we serialize each message with JSON.</li> <li>Any operation can be distributed by specifying execution-related keyword arguments</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>Most examples show how to execute a chain of standalone operations, but each operation passes through data at least once. To pass through data exactly once regardless of the number of operations, use asset pipelines. There are two kinds of asset pipelines: basic and complex. Basic ones take a list of tasks (i.e., functions and their arguments) and compose them into a single operation that takes a single data item. This composed operation is then applied to all data items. Complex ones take a Python expression in a functional programming style where one function receives a data item and returns a result that becomes argument of another function.</p> <div class="language-python highlight"><span class=filename>How to apply a pipeline to an asset</span><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>tasks</span> <span class=o>=</span> <span class=p>[(</span><span class=s2>&quot;find&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;@polakowo&quot;</span><span class=p>,),</span> <span class=nb>dict</span><span class=p>(</span><span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;match&quot;</span><span class=p>)),</span> <span class=nb>len</span><span class=p>,</span> <span class=s2>&quot;get&quot;</span><span class=p>]</span>  <span class=c1># (1)!</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>vbt</span><span class=o>.</span><span class=n>Task</span><span class=p>(</span><span class=s2>&quot;find&quot;</span><span class=p>,</span> <span class=s2>&quot;@polakowo&quot;</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;match&quot;</span><span class=p>),</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Task</span><span class=p>(</span><span class=nb>len</span><span class=p>),</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Task</span><span class=p>(</span><span class=s2>&quot;get&quot;</span><span class=p>)]</span>  <span class=c1># (2)!</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=n>mention_count</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>tasks</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=n>asset_pipeline</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BasicAssetPipeline</span><span class=p>(</span><span class=n>tasks</span><span class=p>)</span> <span class=c1># (4)!</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=n>mention_count</span> <span class=o>=</span> <span class=p>[</span><span class=n>asset_pipeline</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>messages_asset</span><span class=p>]</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=n>expression</span> <span class=o>=</span> <span class=s2>&quot;get(len(find(d, &#39;@polakowo&#39;, return_type=&#39;match&#39;)))&quot;</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=n>mention_count</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=n>asset_pipeline</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>ComplexAssetPipeline</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=n>mention_count</span> <span class=o>=</span> <span class=p>[</span><span class=n>asset_pipeline</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>messages_asset</span><span class=p>]</span>
</span></code></pre></div> <ol> <li>Tasks can be provided as strings, tuples, or functions</li> <li>They can also be provided as instances of <a href=../../api/utils/execution/index.html#vectorbtpro.utils.execution.Task>Task</a></li> <li>Get the number of <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> mentions in each message by using a list of tasks</li> <li>Same as above but manually</li> <li>Get the number of <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a> mentions in each message by using an expression</li> <li>Same as above but manually</li> </ol> <div class="admonition info"> <p class=admonition-title>Info</p> <p>In both pipelines, arguments are prepared only once during initialization.</p> </div> <h2 id=reducing>Reducing<a class=headerlink href=#reducing title="Permanent link">&para;</a></h2> <p><a href=https://realpython.com/python-reduce-function/ >Reducing</a> means merging all data items into one. This requires a function that takes two data items. At first, these two data items are the initializer (such as empty dict) and the first data item. If the initializer is unknown, the first two data items are used. The result of this first iteration is then passed as the first data item to the next iteration. The execution is done by <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.reduce>KnowledgeAsset.reduce</a> and cannot be parallelized since each iteration depends on the previous one.</p> <div class="language-python highlight"><span class=filename>How to reduce an asset</span><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>all_attachments</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;attachments&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>reduce</span><span class=p>(</span><span class=s2>&quot;merge_lists&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=kn>from</span> <span class=nn>vectorbtpro.utils.knowledge.base_asset_funcs</span> <span class=kn>import</span> <span class=n>MergeListsAssetFunc</span>  <span class=c1># (2)!</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span> <span class=o>=</span> <span class=n>MergeListsAssetFunc</span><span class=o>.</span><span class=n>prepare</span><span class=p>()</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=n>d1</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=k>for</span> <span class=n>d2</span> <span class=ow>in</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;attachments&quot;</span><span class=p>):</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>    <span class=n>d1</span> <span class=o>=</span> <span class=n>MergeListsAssetFunc</span><span class=o>.</span><span class=n>call</span><span class=p>(</span><span class=n>d1</span><span class=p>,</span> <span class=n>d2</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=n>all_attachments</span> <span class=o>=</span> <span class=n>d1</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=n>total_reactions</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;reactions&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>d1</span><span class=p>,</span> <span class=n>d2</span><span class=p>:</span> <span class=n>d1</span> <span class=o>+</span> <span class=n>d2</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span></code></pre></div> <ol> <li>Apply a built-in function. This operation is equivalent to <code>select("attachments").merge_lists()</code>. Whether to return a new asset instance or the raw output depends on the function.</li> <li>Same as above but manually</li> <li>Apply a custom function. By default, returns the raw output.</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>In addition, you can split a knowledge asset into groups and reduce the groups. The iteration over groups is done by the <a href=../../api/utils/execution/index.html#vectorbtpro.utils.execution.execute>execute</a> function, which is capable of parallelization.</p> <div class="language-python highlight"><span class=filename>How to reduce groups of an asset</span><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>reactions_by_channel</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>groupby_reduce</span><span class=p>(</span>  <span class=c1># (1)!</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>    <span class=k>lambda</span> <span class=n>d1</span><span class=p>,</span> <span class=n>d2</span><span class=p>:</span> <span class=n>d1</span> <span class=o>+</span> <span class=n>d2</span><span class=p>[</span><span class=s2>&quot;reactions&quot;</span><span class=p>],</span> 
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    <span class=n>by</span><span class=o>=</span><span class=s2>&quot;channel&quot;</span><span class=p>,</span> 
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=n>initializer</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>    <span class=n>return_group_keys</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=p>)</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=n>result</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>groupby_reduce</span><span class=p>(</span>  <span class=c1># (2)!</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>    <span class=o>...</span><span class=p>,</span>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>    <span class=n>execute_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>        <span class=n>n_chunks</span><span class=o>=</span><span class=s2>&quot;auto&quot;</span><span class=p>,</span> 
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>        <span class=n>distribute</span><span class=o>=</span><span class=s2>&quot;chunks&quot;</span><span class=p>,</span> 
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>        <span class=n>engine</span><span class=o>=</span><span class=s2>&quot;processpool&quot;</span>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>    <span class=p>)</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a><span class=p>)</span>
</span></code></pre></div> <ol> <li>Get the total number of reactions per channel</li> <li>Any group-by operation can be distributed by specifying execution-related keyword arguments</li> </ol> <h2 id=aggregating>Aggregating<a class=headerlink href=#aggregating title="Permanent link">&para;</a></h2> <p>Since headings are represented as individual data items, they can be aggregated back into their parent page. This is useful in order to <a href=#formatting>format</a> or <a href=#displaying>display</a> the page. Note that only headings can be aggregated - pages cannot be aggregated into other pages. </p> <div class="language-python highlight"><span class=filename>How to aggregate pages</span><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>append_obj_type</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>append_github_link</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span></code></pre></div> <ol> <li>Aggregate headings into the content of the parent page</li> <li>Same as above but don't append object type and GitHub source to the API headings</li> </ol> <p>Messages, on the other hand, can be aggregated across multiple levels: <em>"message"</em>, <em>"block"</em>, <em>"thread"</em>, and <em>"channel"</em>. Aggregation here simply means taking messages that belong to the specified level, and dumping and putting them into the content of a single, bigger message. </p> <ul> <li>The level <em>"message"</em> means that attachments are included in the content of the message. </li> <li>The level <em>"block"</em> puts together messages of the same author that reference the same block or don't reference anything at all. The link of the block is the link of the first message in the block. </li> <li>The level <em>"thread"</em> puts together messages that belong to the same channel and are connected through a chain of replies. The link of the thread is the link of the first message in the thread. </li> <li>The level <em>"channel"</em> puts together messages that belong to the same channel.</li> </ul> <div class="language-python highlight"><span class=filename>How to aggregate messages</span><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s2>&quot;message&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s2>&quot;block&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s2>&quot;thread&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s2>&quot;channel&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span>  <span class=c1># (6)!</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>    <span class=o>...</span><span class=p>,</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>    <span class=n>dump_metadata_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>dump_engine</span><span class=o>=</span><span class=s2>&quot;nestedtext&quot;</span><span class=p>)</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=p>)</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span>  <span class=c1># (7)!</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>    <span class=o>...</span><span class=p>,</span>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>    <span class=n>metadata_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>,</span> 
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a>    <span class=n>to_html_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>make_links</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=p>)</span>
</span></code></pre></div> <ol> <li>Aggregate into the content of the parent if a single parent exists, else will raise an error</li> <li>Aggregate attachments into the content of the parent message</li> <li>Aggregate messages into the content of the parent block</li> <li>Aggregate messages into the content of the parent thread</li> <li>Aggregate messages into the content of the parent channel</li> <li>When putting messages into the parent content, dump their metadata using the selected engine (here NestedText)</li> <li>When putting messages into the parent content, format their metadata as HTML with raw links</li> </ol> <h2 id=traversing>Traversing<a class=headerlink href=#traversing title="Permanent link">&para;</a></h2> <p>You can also traverse pages and messages similarly to nodes in a graph.</p> <div class="language-python highlight"><span class=filename>How to traverse an asset</span><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>new_vbt_asset</span> <span class=o>=</span> <span class=n>vbt_asset</span><span class=o>.</span><span class=n>select_previous</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>new_vbt_asset</span> <span class=o>=</span> <span class=n>vbt_asset</span><span class=o>.</span><span class=n>select_next</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_parent</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_children</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_siblings</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_descendants</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_branch</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_ancestors</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_parent_page</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_descendant_headings</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select_reference</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select_replies</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select_block</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select_thread</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a><span class=n>new_messages_asset</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>select_channel</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>
</span></code></pre></div> <ol> <li>This and below methods work on both pages and messages</li> <li>This and below methods do not include link by default (use <code>include_link=True</code> to enable)</li> <li>This and below methods include link by default (use <code>include_link=False</code> to disable)</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Each operation requires at least one full data pass; use sparingly.</p> </div> <h2 id=formatting>Formatting<a class=headerlink href=#formatting title="Permanent link">&para;</a></h2> <p>Most Python objects can be dumped (i.e., serialized) into strings.</p> <div class="language-python highlight"><span class=filename>How to dump an asset</span><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>dump</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>dump_engine</span><span class=o>=</span><span class=s2>&quot;nestedtext&quot;</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=nb>print</span><span class=p>(</span><span class=n>asset</span><span class=o>.</span><span class=n>dump</span><span class=p>()</span><span class=o>.</span><span class=n>join</span><span class=p>())</span>  <span class=c1># (3)!</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=nb>print</span><span class=p>(</span><span class=n>asset</span><span class=o>.</span><span class=n>dump</span><span class=p>()</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>separator</span><span class=o>=</span><span class=s2>&quot;</span><span class=se>\n\n</span><span class=s2>&quot;</span><span class=p>))</span>  <span class=c1># (4)!</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=nb>print</span><span class=p>(</span><span class=n>asset</span><span class=o>.</span><span class=n>dump_all</span><span class=p>())</span>  <span class=c1># (5)!</span>
</span></code></pre></div> <ol> <li>Dump each data item. By default, dumps into YAML using Ruamel (if installed) or PyYAML.</li> <li>Dump each data item using a custom engine. Here, using NestedText with indentation of 4 spaces.</li> <li>Join all dumped data items. Chooses the separator automatically.</li> <li>Join all dumped data items with a custom separator</li> <li>Dump the entire list as a single object</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>Custom knowledge assets like pages and messages can be converted and optionally saved in Markdown or HTML format. Only the field "content" will be converted while other fields will build the metadata block displayed at the beginning of each file.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Without <a href=#aggregating>aggregation</a>, each page heading will become a separate file.</p> </div> <div class="language-python highlight"><span class=filename>How to format an asset</span><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_markdown</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_markdown</span><span class=p>(</span><span class=n>root_metadata_key</span><span class=o>=</span><span class=s2>&quot;pages&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_markdown</span><span class=p>(</span><span class=n>clear_metadata</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_markdown</span><span class=p>(</span><span class=n>remove_code_title</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>even_indentation</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>save_to_markdown</span><span class=p>()</span>  <span class=c1># (5)!</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>save_to_markdown</span><span class=p>(</span><span class=n>cache_dir</span><span class=o>=</span><span class=s2>&quot;markdown&quot;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>save_to_markdown</span><span class=p>(</span><span class=n>clear_cache</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>save_to_markdown</span><span class=p>(</span><span class=n>cache</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (8)!</span>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=c1># (9)!</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a>
</span><span id=__span-17-13><a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-17-14><a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a>
</span><span id=__span-17-15><a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_html</span><span class=p>()</span>  <span class=c1># (10)!</span>
</span><span id=__span-17-16><a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_html</span><span class=p>(</span><span class=n>to_markdown_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>root_metadata_key</span><span class=o>=</span><span class=s2>&quot;pages&quot;</span><span class=p>))</span>  <span class=c1># (11)!</span>
</span><span id=__span-17-17><a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_html</span><span class=p>(</span><span class=n>make_links</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (12)!</span>
</span><span id=__span-17-18><a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_html</span><span class=p>(</span><span class=n>extensions</span><span class=o>=</span><span class=p>[],</span> <span class=n>use_pygments</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (13)!</span>
</span><span id=__span-17-19><a id=__codelineno-17-19 name=__codelineno-17-19 href=#__codelineno-17-19></a><span class=n>extensions</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>to_html_kwargs</span><span class=p>[</span><span class=s2>&quot;extensions&quot;</span><span class=p>]</span>
</span><span id=__span-17-20><a id=__codelineno-17-20 name=__codelineno-17-20 href=#__codelineno-17-20></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_html</span><span class=p>(</span><span class=n>extensions</span><span class=o>=</span><span class=n>extensions</span> <span class=o>+</span> <span class=p>[</span><span class=s2>&quot;pymdownx.smartsymbols&quot;</span><span class=p>])</span>  <span class=c1># (14)!</span>
</span><span id=__span-17-21><a id=__codelineno-17-21 name=__codelineno-17-21 href=#__codelineno-17-21></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>to_html_kwargs</span><span class=p>[</span><span class=s2>&quot;extensions&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;pymdownx.smartsymbols&quot;</span><span class=p>)</span>  <span class=c1># (15)!</span>
</span><span id=__span-17-22><a id=__codelineno-17-22 name=__codelineno-17-22 href=#__codelineno-17-22></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>to_html_kwargs</span><span class=p>[</span><span class=s2>&quot;extension_configs&quot;</span><span class=p>][</span><span class=s2>&quot;pymdownx.superfences&quot;</span><span class=p>][</span><span class=s2>&quot;preserve_tabs&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>  <span class=c1># (16)!</span>
</span><span id=__span-17-23><a id=__codelineno-17-23 name=__codelineno-17-23 href=#__codelineno-17-23></a><span class=n>new_pages_asset</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>to_html</span><span class=p>(</span><span class=n>format_html_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>pygments_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=s2>&quot;dracula&quot;</span><span class=p>)))</span>  <span class=c1># (17)!</span>
</span><span id=__span-17-24><a id=__codelineno-17-24 name=__codelineno-17-24 href=#__codelineno-17-24></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>format_html_kwargs</span><span class=p>[</span><span class=s2>&quot;pygments_kwargs&quot;</span><span class=p>][</span><span class=s2>&quot;style&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;dracula&quot;</span>  <span class=c1># (18)!</span>
</span><span id=__span-17-25><a id=__codelineno-17-25 name=__codelineno-17-25 href=#__codelineno-17-25></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>format_html_kwargs</span><span class=p>[</span><span class=s2>&quot;style_extras&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-17-26><a id=__codelineno-17-26 name=__codelineno-17-26 href=#__codelineno-17-26></a><span class=s2>.admonition.success {</span>
</span><span id=__span-17-27><a id=__codelineno-17-27 name=__codelineno-17-27 href=#__codelineno-17-27></a><span class=s2>    background-color: #00c8531a;</span>
</span><span id=__span-17-28><a id=__codelineno-17-28 name=__codelineno-17-28 href=#__codelineno-17-28></a><span class=s2>    border-left-color: #00c853;</span>
</span><span id=__span-17-29><a id=__codelineno-17-29 name=__codelineno-17-29 href=#__codelineno-17-29></a><span class=s2>}</span>
</span><span id=__span-17-30><a id=__codelineno-17-30 name=__codelineno-17-30 href=#__codelineno-17-30></a><span class=s2>&quot;&quot;&quot;</span><span class=p>)</span>  <span class=c1># (19)!</span>
</span><span id=__span-17-31><a id=__codelineno-17-31 name=__codelineno-17-31 href=#__codelineno-17-31></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>format_html_kwargs</span><span class=p>[</span><span class=s2>&quot;head_extras&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;&lt;link ...&gt;&#39;</span><span class=p>)</span>  <span class=c1># (20)!</span>
</span><span id=__span-17-32><a id=__codelineno-17-32 name=__codelineno-17-32 href=#__codelineno-17-32></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>format_html_kwargs</span><span class=p>[</span><span class=s2>&quot;body_extras&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;&lt;script&gt;...&lt;/script&gt;&#39;</span><span class=p>)</span>  <span class=c1># (21)!</span>
</span><span id=__span-17-33><a id=__codelineno-17-33 name=__codelineno-17-33 href=#__codelineno-17-33></a>
</span><span id=__span-17-34><a id=__codelineno-17-34 name=__codelineno-17-34 href=#__codelineno-17-34></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>save_to_html</span><span class=p>()</span>  <span class=c1># (22)!</span>
</span><span id=__span-17-35><a id=__codelineno-17-35 name=__codelineno-17-35 href=#__codelineno-17-35></a>
</span><span id=__span-17-36><a id=__codelineno-17-36 name=__codelineno-17-36 href=#__codelineno-17-36></a><span class=c1># (23)!</span>
</span></code></pre></div> <ol> <li>Convert each data item to a Markdown-formatted string. Returns a new asset instance with a list of strings.</li> <li>Prepend a root key called "pages" (or use "messages" for messages) to the metadata block</li> <li>Keep empty fields in the metadata block. By default, they will be removed.</li> <li>Keep the content as is, without removing code titles and fixing uneven indentation</li> <li>Save each data item to a Markdown-formatted file. Returns the path to the parent directory. By default, saves to <strong>./knowledge/pages/markdown</strong> for pages and <strong>./knowledge/messages/markdown</strong> for messages.</li> <li>Specify a different cache directory. By default, stores data in <strong>./knowledge/pages/markdown</strong> for pages and <strong>./knowledge/messages/markdown</strong> for messages.</li> <li>Clear the cache directory before saving. By default, a data item is skipped if its file already exists.</li> <li>Create a temporary directory</li> <li>Method <code>save_to_markdown</code> accepts the same arguments as <code>to_markdown</code></li> <li>Convert each data item to a HTML-formatted string. Returns a new asset instance with a list of strings.</li> <li>Same options as for the method <code>to_markdown</code> can be provided via <code>to_markdown_kwargs</code></li> <li>If any URL is detected in text, don't make it a link. By default, makes all URLs clickable.</li> <li>Disable any Markdown extensions and don't use Pygments for highlighting</li> <li>Add a new extension to the preset list of Markdown extensions (locally)</li> <li>Add a new extension to the preset list of Markdown extensions (globally)</li> <li>Change a config of a Markdown extension</li> <li>Change the default Pygments highlighting style (locally)</li> <li>Change the default Pygments highlighting style (globally)</li> <li>Add extra CSS at the end of the <code>&lt;style&gt;</code> element</li> <li>Add extra HTML such as links at the end of the <code>&lt;head&gt;</code> element</li> <li>Add extra HTML such as JavaScript at the end of the <code>&lt;body&gt;</code> element</li> <li>Save each data item to a HTML-formatted file. Returns the path to the parent directory. By default, saves to <strong>./knowledge/pages/html</strong> for pages and <strong>./knowledge/messages/html</strong> for messages.</li> <li>Method <code>save_to_html</code> accepts the same arguments as <code>to_html</code> and <code>save_to_markdown</code></li> </ol> <h2 id=displaying>Displaying<a class=headerlink href=#displaying title="Permanent link">&para;</a></h2> <p>Pages and messages can be displayed and browsed through via static HTML files. When a single should be displayed, VBT creates a temporary HTML file and opens it in the default browser. All links in this file remain <strong>external</strong>.</p> <div class="language-python highlight"><span class=filename>How to display an asset</span><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>display</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=n>link</span><span class=o>=</span><span class=s2>&quot;documentation/fundamentals&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=n>link</span><span class=o>=</span><span class=s2>&quot;documentation/fundamentals&quot;</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>display</span><span class=p>()</span>  <span class=c1># (4)!</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=n>link</span><span class=o>=</span><span class=s2>&quot;919715148896301067/923327319882485851&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=n>file_path</span> <span class=o>=</span> <span class=p>(</span>  <span class=c1># (6)!  </span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>    <span class=n>messages_asset</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>    <span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=s2>&quot;channel == &#39;announcements&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a>    <span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>metadata_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>)</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a>    <span class=o>.</span><span class=n>display</span><span class=p>()</span>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=p>)</span>
</span></code></pre></div> <ol> <li>If the asset contains only one page, display this page</li> <li>If the asset contains multiple pages, choose a page and display</li> <li>If the asset isn't aggregated, choose a page, find its headings, merge them into one page, and display</li> <li>If the asset contains only one message, display this message</li> <li>If the asset contains multiple messages, choose a message and display</li> <li>Select messages that belong to the selected channel, aggregate them, and display</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>When one or more pages (and/or headings) should be browsed like a website, VBT converts all data items to HTML and replaces all external links to <strong>internal</strong> ones such that you can jump from one page to another locally. But which page is displayed first? Pages and headings build a directed graph. If there's one page from which all other pages are accessible, it's displayed first. If there are multiple pages, VBT creates an index page with metadata blocks from which you can access other pages (unless you specify <code>entry_link</code>).</p> <div class="language-python highlight"><span class=filename>How to browse an asset</span><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>entry_link</span><span class=o>=</span><span class=s2>&quot;documentation/fundamentals&quot;</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>entry_link</span><span class=o>=</span><span class=s2>&quot;documentation&quot;</span><span class=p>,</span> <span class=n>descendants_only</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>cache_dir</span><span class=o>=</span><span class=s2>&quot;website&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>clear_cache</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>cache</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>()</span>  <span class=c1># (8)!</span>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=n>dir_path</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>browse</span><span class=p>(</span><span class=n>entry_link</span><span class=o>=</span><span class=s2>&quot;919715148896301067/923327319882485851&quot;</span><span class=p>)</span>  <span class=c1># (9)!</span>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a>
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a><span class=c1># (10)!</span>
</span></code></pre></div> <ol> <li>Generate an HTML file for every page and heading (unless already aggregated)</li> <li>Aggregate headings into pages and generate an HTML file for every page</li> <li>Generate an HTML file for every page and start browsing from the selected page</li> <li>Generate an HTML file for every page that is descendant of the selected page</li> <li>Specify a different cache directory. By default, stores data in <strong>./knowledge/pages/html</strong> for pages and <strong>./knowledge/messages/html</strong> for messages.</li> <li>Clear the cache directory before saving. By default, a page or heading is skipped if its file already exists.</li> <li>Create a temporary directory</li> <li>Generate an HTML file for every message (note that there are a lot of messages!)</li> <li>In addition to the above, choose a message to open in the default browser</li> <li>Messages also take the same caching-related arguments as pages</li> </ol> <h2 id=combining>Combining<a class=headerlink href=#combining title="Permanent link">&para;</a></h2> <p>Assets can be easily stacked and merged. When the target class is not specified, their common superclass is used. For example, combining <a href=../../api/utils/knowledge/custom_assets/index.html#vectorbtpro.utils.knowledge.custom_assets.PagesAsset>PagesAsset</a> and <a href=../../api/utils/knowledge/custom_assets/index.html#vectorbtpro.utils.knowledge.custom_assets.MessagesAsset>MessagesAsset</a> will yield an instance of <a href=../../api/utils/knowledge/custom_assets/index.html#vectorbtpro.utils.knowledge.custom_assets.VBTAsset>VBTAsset</a>, which is based on overlapping features of both assets, such as "link" and "content" fields.</p> <div class="language-python highlight"><span class=filename>How to concatenate multiple assets</span><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=n>vbt_asset</span> <span class=o>=</span> <span class=n>pages_asset</span> <span class=o>+</span> <span class=n>messages_asset</span>  <span class=c1># (1)!</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=n>vbt_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>VBTAsset</span><span class=o>.</span><span class=n>stack</span><span class=p>(</span><span class=n>pages_asset</span><span class=p>,</span> <span class=n>messages_asset</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span></code></pre></div> <ol> <li>Concatenate both lists and wrap by the common superclass</li> <li>Concatenate both lists and wrap by the selected class</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>If both assets have the same number of data items, you can also merge them on the data item level. This works even for complex containers like nested dictionaries and lists by flattening their nested structures into flat dicts, merging them, and then unflattening them back into the original container type.</p> <div class="language-python highlight"><span class=filename>How to merge multiple assets</span><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset1</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>asset2</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>KnowledgeAsset</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>asset1</span><span class=p>,</span> <span class=n>asset2</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span></code></pre></div> <ol> <li>Merge both lists and wrap by the first class</li> <li>Merge both lists and wrap by the selected class</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>+</span> <hr class=separator> </div> <p>You can also merge data items of a single asset into a single data item.</p> <div class="language-python highlight"><span class=filename>How to merge one asset</span><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>merge_dicts</span><span class=p>()</span>  <span class=c1># (2)!</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=n>new_asset</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>merge_lists</span><span class=p>()</span>  <span class=c1># (3)!</span>
</span></code></pre></div> <ol> <li>Calls either <code>merge_dicts</code> or <code>merge_lists</code> depending on the data type</li> <li>Concatenate all lists into one</li> <li>(Deep-)merge all dicts into one</li> </ol> <h2 id=chatting>Chatting<a class=headerlink href=#chatting title="Permanent link">&para;</a></h2> <p>Knowledge assets can be used as a context in chatting with LLMs. The method responsible for chatting is <a href=../../api/utils/knowledge/base_assets/index.html#vectorbtpro.utils.knowledge.base_assets.KnowledgeAsset.chat>KnowledgeAsset.chat</a>, which <a href=#formatting>dumps</a> the asset instance, packs it together with your question and chat history into messages, sends them to the LLM service, and displays and persists the response. The response can be displayed in a variety of formats, including raw text, Markdown, and HTML. All three formats support streaming. This method also supports multiple LLM APIs, including OpenAI, LiteLLM, and LLamaIndex.</p> <div class="language-python highlight"><span class=filename>How to chat about an asset</span><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=n>env</span><span class=p>[</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;YOUR_API_KEY&quot;</span>  <span class=c1># (1)!</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=n>patterns_tutorial</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_page</span><span class=p>(</span> <span class=c1># (2)!</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a>    <span class=s2>&quot;https://vectorbt.pro/pvt_xxxxxxxx/tutorials/patterns-and-projections/patterns/&quot;</span><span class=p>,</span> 
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a>    <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=p>)</span>
</span><span id=__span-23-9><a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=n>patterns_tutorial</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to detect a pattern?&quot;</span><span class=p>)</span>
</span><span id=__span-23-10><a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>
</span><span id=__span-23-11><a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=n>data_documentation</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>select_branch</span><span class=p>(</span><span class=s2>&quot;documentation/data&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>aggregate</span><span class=p>()</span>  <span class=c1># (3)!</span>
</span><span id=__span-23-12><a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=n>data_documentation</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to convert DataFrame into vbt.Data?&quot;</span><span class=p>)</span>
</span><span id=__span-23-13><a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>
</span><span id=__span-23-14><a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=n>pfo_api</span> <span class=o>=</span> <span class=n>pages_asset</span><span class=o>.</span><span class=n>find_obj</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>PFO</span><span class=p>,</span> <span class=n>aggregate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-23-15><a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=n>pfo_api</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to rebalance weekly?&quot;</span><span class=p>)</span>
</span><span id=__span-23-16><a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a>
</span><span id=__span-23-17><a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a><span class=n>combined_asset</span> <span class=o>=</span> <span class=n>pages_asset</span> <span class=o>+</span> <span class=n>messages_asset</span>
</span><span id=__span-23-18><a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a><span class=n>signal_func_nb_code</span> <span class=o>=</span> <span class=n>combined_asset</span><span class=o>.</span><span class=n>find_code</span><span class=p>(</span><span class=s2>&quot;signal_func_nb&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span>  <span class=c1># (5)!</span>
</span><span id=__span-23-19><a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a><span class=n>signal_func_nb_code</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to pass an array to signal_func_nb?&quot;</span><span class=p>)</span>
</span><span id=__span-23-20><a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a>
</span><span id=__span-23-21><a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a><span class=n>polakowo_messages</span> <span class=o>=</span> <span class=n>messages_asset</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=s2>&quot;author == &#39;@polakowo&#39;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>minimize</span><span class=p>()</span><span class=o>.</span><span class=n>shuffle</span><span class=p>()</span>
</span><span id=__span-23-22><a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a><span class=n>polakowo_messages</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;Describe the author of these messages&quot;</span><span class=p>,</span> <span class=n>max_context_tokens</span><span class=o>=</span><span class=mi>120_000</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-23-23><a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a>
</span><span id=__span-23-24><a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a><span class=n>mention_fields</span> <span class=o>=</span> <span class=n>combined_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&quot;parameterize&quot;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;substring&quot;</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;field&quot;</span><span class=p>)</span>
</span><span id=__span-23-25><a id=__codelineno-23-25 name=__codelineno-23-25 href=#__codelineno-23-25></a><span class=n>mention_counts</span> <span class=o>=</span> <span class=n>combined_asset</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&quot;parameterize&quot;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;substring&quot;</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=s2>&quot;match&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=nb>len</span><span class=p>)</span>
</span><span id=__span-23-26><a id=__codelineno-23-26 name=__codelineno-23-26 href=#__codelineno-23-26></a><span class=n>sorted_fields</span> <span class=o>=</span> <span class=n>mention_fields</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>keys</span><span class=o>=</span><span class=n>mention_counts</span><span class=p>,</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>merge</span><span class=p>()</span>
</span><span id=__span-23-27><a id=__codelineno-23-27 name=__codelineno-23-27 href=#__codelineno-23-27></a><span class=n>sorted_fields</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to parameterize a function?&quot;</span><span class=p>,</span> <span class=n>max_context_tokens</span><span class=o>=</span><span class=mi>120_000</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-23-28><a id=__codelineno-23-28 name=__codelineno-23-28 href=#__codelineno-23-28></a>
</span><span id=__span-23-29><a id=__codelineno-23-29 name=__codelineno-23-29 href=#__codelineno-23-29></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-23-30><a id=__codelineno-23-30 name=__codelineno-23-30 href=#__codelineno-23-30></a>
</span><span id=__span-23-31><a id=__codelineno-23-31 name=__codelineno-23-31 href=#__codelineno-23-31></a><span class=n>chat_history</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-23-32><a id=__codelineno-23-32 name=__codelineno-23-32 href=#__codelineno-23-32></a><span class=n>signal_func_nb_code</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to check if we&#39;re in a long position?&quot;</span><span class=p>,</span> <span class=n>chat_history</span><span class=p>)</span>  <span class=c1># (8)!</span>
</span><span id=__span-23-33><a id=__codelineno-23-33 name=__codelineno-23-33 href=#__codelineno-23-33></a><span class=n>signal_func_nb_code</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How about short one?&quot;</span><span class=p>,</span> <span class=n>chat_history</span><span class=p>)</span>  <span class=c1># (9)!</span>
</span><span id=__span-23-34><a id=__codelineno-23-34 name=__codelineno-23-34 href=#__codelineno-23-34></a><span class=n>chat_history</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>  <span class=c1># (10)!</span>
</span><span id=__span-23-35><a id=__codelineno-23-35 name=__codelineno-23-35 href=#__codelineno-23-35></a><span class=n>signal_func_nb_code</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=s2>&quot;How to access close price?&quot;</span><span class=p>,</span> <span class=n>chat_history</span><span class=p>)</span>
</span><span id=__span-23-36><a id=__codelineno-23-36 name=__codelineno-23-36 href=#__codelineno-23-36></a>
</span><span id=__span-23-37><a id=__codelineno-23-37 name=__codelineno-23-37 href=#__codelineno-23-37></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-23-38><a id=__codelineno-23-38 name=__codelineno-23-38 href=#__codelineno-23-38></a>
</span><span id=__span-23-39><a id=__codelineno-23-39 name=__codelineno-23-39 href=#__codelineno-23-39></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>package</span><span class=o>=</span><span class=s2>&quot;openai&quot;</span><span class=p>,</span> <span class=n>model</span><span class=o>=</span><span class=s2>&quot;o1-mini&quot;</span><span class=p>)</span>  <span class=c1># (11)!</span>
</span><span id=__span-23-40><a id=__codelineno-23-40 name=__codelineno-23-40 href=#__codelineno-23-40></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>chat</span><span class=p>[</span><span class=s2>&quot;openai_config&quot;</span><span class=p>][</span><span class=s2>&quot;model&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;o1-mini&quot;</span>  <span class=c1># (12)!</span>
</span><span id=__span-23-41><a id=__codelineno-23-41 name=__codelineno-23-41 href=#__codelineno-23-41></a>
</span><span id=__span-23-42><a id=__codelineno-23-42 name=__codelineno-23-42 href=#__codelineno-23-42></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>package</span><span class=o>=</span><span class=s2>&quot;litellm&quot;</span><span class=p>,</span> <span class=n>model</span><span class=o>=</span><span class=s2>&quot;deepseek/deepseek-coder&quot;</span><span class=p>)</span>
</span><span id=__span-23-43><a id=__codelineno-23-43 name=__codelineno-23-43 href=#__codelineno-23-43></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>chat</span><span class=p>[</span><span class=s2>&quot;litellm_config&quot;</span><span class=p>][</span><span class=s2>&quot;model&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;deepseek/deepseek-coder&quot;</span>
</span><span id=__span-23-44><a id=__codelineno-23-44 name=__codelineno-23-44 href=#__codelineno-23-44></a>
</span><span id=__span-23-45><a id=__codelineno-23-45 name=__codelineno-23-45 href=#__codelineno-23-45></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>package</span><span class=o>=</span><span class=s2>&quot;llama_index&quot;</span><span class=p>,</span> <span class=n>llm</span><span class=o>=</span><span class=s2>&quot;perplexity&quot;</span><span class=p>,</span> <span class=n>model</span><span class=o>=</span><span class=s2>&quot;claude-3-5-sonnet-20240620&quot;</span><span class=p>)</span>
</span><span id=__span-23-46><a id=__codelineno-23-46 name=__codelineno-23-46 href=#__codelineno-23-46></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>chat</span><span class=p>[</span><span class=s2>&quot;llama_index_config&quot;</span><span class=p>][</span><span class=s2>&quot;llm&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;anthropic&quot;</span>  <span class=c1># (13)!</span>
</span><span id=__span-23-47><a id=__codelineno-23-47 name=__codelineno-23-47 href=#__codelineno-23-47></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>chat</span><span class=p>[</span><span class=s2>&quot;llama_index_config&quot;</span><span class=p>][</span><span class=s2>&quot;anthropic&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;claude-3-5-sonnet-20240620&quot;</span><span class=p>}</span>
</span><span id=__span-23-48><a id=__codelineno-23-48 name=__codelineno-23-48 href=#__codelineno-23-48></a>
</span><span id=__span-23-49><a id=__codelineno-23-49 name=__codelineno-23-49 href=#__codelineno-23-49></a><span class=n>vbt</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>knowledge</span><span class=o>.</span><span class=n>chat</span><span class=p>[</span><span class=s2>&quot;package&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;litellm&quot;</span>  <span class=c1># (14)!</span>
</span><span id=__span-23-50><a id=__codelineno-23-50 name=__codelineno-23-50 href=#__codelineno-23-50></a>
</span><span id=__span-23-51><a id=__codelineno-23-51 name=__codelineno-23-51 href=#__codelineno-23-51></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-23-52><a id=__codelineno-23-52 name=__codelineno-23-52 href=#__codelineno-23-52></a>
</span><span id=__span-23-53><a id=__codelineno-23-53 name=__codelineno-23-53 href=#__codelineno-23-53></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>stream</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (15)!</span>
</span><span id=__span-23-54><a id=__codelineno-23-54 name=__codelineno-23-54 href=#__codelineno-23-54></a>
</span><span id=__span-23-55><a id=__codelineno-23-55 name=__codelineno-23-55 href=#__codelineno-23-55></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;plain&quot;</span><span class=p>)</span>  <span class=c1># (16)!</span>
</span><span id=__span-23-56><a id=__codelineno-23-56 name=__codelineno-23-56 href=#__codelineno-23-56></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;ipython_markdown&quot;</span><span class=p>)</span>  <span class=c1># (17)!</span>
</span><span id=__span-23-57><a id=__codelineno-23-57 name=__codelineno-23-57 href=#__codelineno-23-57></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;ipython_html&quot;</span><span class=p>)</span>  <span class=c1># (18)!</span>
</span><span id=__span-23-58><a id=__codelineno-23-58 name=__codelineno-23-58 href=#__codelineno-23-58></a>
</span><span id=__span-23-59><a id=__codelineno-23-59 name=__codelineno-23-59 href=#__codelineno-23-59></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>)</span>  <span class=c1># (19)!</span>
</span><span id=__span-23-60><a id=__codelineno-23-60 name=__codelineno-23-60 href=#__codelineno-23-60></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>,</span> <span class=n>cache_dir</span><span class=o>=</span><span class=s2>&quot;chat&quot;</span><span class=p>)</span>  <span class=c1># (20)!</span>
</span><span id=__span-23-61><a id=__codelineno-23-61 name=__codelineno-23-61 href=#__codelineno-23-61></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>,</span> <span class=n>clear_cache</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (21)!</span>
</span><span id=__span-23-62><a id=__codelineno-23-62 name=__codelineno-23-62 href=#__codelineno-23-62></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>,</span> <span class=n>cache</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (22)!</span>
</span><span id=__span-23-63><a id=__codelineno-23-63 name=__codelineno-23-63 href=#__codelineno-23-63></a><span class=n>file_path</span> <span class=o>=</span> <span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span>  <span class=c1># (23)!</span>
</span><span id=__span-23-64><a id=__codelineno-23-64 name=__codelineno-23-64 href=#__codelineno-23-64></a>    <span class=o>...</span><span class=p>,</span> 
</span><span id=__span-23-65><a id=__codelineno-23-65 name=__codelineno-23-65 href=#__codelineno-23-65></a>    <span class=n>display_format</span><span class=o>=</span><span class=s2>&quot;html&quot;</span><span class=p>,</span> 
</span><span id=__span-23-66><a id=__codelineno-23-66 name=__codelineno-23-66 href=#__codelineno-23-66></a>    <span class=n>to_markdown_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=o>...</span><span class=p>),</span>
</span><span id=__span-23-67><a id=__codelineno-23-67 name=__codelineno-23-67 href=#__codelineno-23-67></a>    <span class=n>to_html_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=o>...</span><span class=p>),</span>
</span><span id=__span-23-68><a id=__codelineno-23-68 name=__codelineno-23-68 href=#__codelineno-23-68></a>    <span class=n>format_html_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
</span><span id=__span-23-69><a id=__codelineno-23-69 name=__codelineno-23-69 href=#__codelineno-23-69></a><span class=p>)</span>
</span><span id=__span-23-70><a id=__codelineno-23-70 name=__codelineno-23-70 href=#__codelineno-23-70></a>
</span><span id=__span-23-71><a id=__codelineno-23-71 name=__codelineno-23-71 href=#__codelineno-23-71></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>refresh_rate</span><span class=o>=</span><span class=mf>1.0</span><span class=p>)</span>  <span class=c1># (24)!</span>
</span><span id=__span-23-72><a id=__codelineno-23-72 name=__codelineno-23-72 href=#__codelineno-23-72></a>
</span><span id=__span-23-73><a id=__codelineno-23-73 name=__codelineno-23-73 href=#__codelineno-23-73></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>output_to</span><span class=o>=</span><span class=s2>&quot;response.txt&quot;</span><span class=p>)</span>  <span class=c1># (25)!</span>
</span><span id=__span-23-74><a id=__codelineno-23-74 name=__codelineno-23-74 href=#__codelineno-23-74></a>
</span><span id=__span-23-75><a id=__codelineno-23-75 name=__codelineno-23-75 href=#__codelineno-23-75></a><span class=n>asset</span><span class=o>.</span><span class=n>chat</span><span class=p>(</span>  <span class=c1># (26)!</span>
</span><span id=__span-23-76><a id=__codelineno-23-76 name=__codelineno-23-76 href=#__codelineno-23-76></a>    <span class=o>...</span><span class=p>,</span> 
</span><span id=__span-23-77><a id=__codelineno-23-77 name=__codelineno-23-77 href=#__codelineno-23-77></a>    <span class=n>system_prompt</span><span class=o>=</span><span class=s2>&quot;You are a helpful assistant&quot;</span><span class=p>,</span>
</span><span id=__span-23-78><a id=__codelineno-23-78 name=__codelineno-23-78 href=#__codelineno-23-78></a>    <span class=n>context_prompt</span><span class=o>=</span><span class=s2>&quot;Here&#39;s what you need to know: $context&quot;</span>
</span><span id=__span-23-79><a id=__codelineno-23-79 name=__codelineno-23-79 href=#__codelineno-23-79></a><span class=p>)</span>
</span></code></pre></div> <ol> <li>Setting the API key as an environment variable makes it available for all packages to use</li> <li>Paste a link from the website (here, the tutorial on patterns), and use it as a context. If you don't know the private hash, you can paste the suffix - see <a href=#querying>querying</a>.</li> <li>Select and aggregate all documentation pages related to data and use them as a context</li> <li>Select the API documentation page related the portfolio optimizer and use it as a context</li> <li>Find all mentions of <code>signal_func_nb</code> across the code of all pages and messages and use them as a context</li> <li>Filter all messages by <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a>, keep only relevant fields to fit more data, and trim the context to ~120000 tokens (depends on the model, here GPT-4o with allowance of 128000). Content is shuffled to avoid putting more emphasis on old/new content when trimming the context.</li> <li>Get all fields with at least one "parameterize" mention, sort them by the number of mentions in descending order, merge into one list, and trim the context. When embeddings are unavailable, this is a common workflow when there's too much data.</li> <li>Append the question and answer to the chat history</li> <li>Re-use the chat history to post the question to the current chat</li> <li>Clear the chat history to start a new chat</li> <li>Specify the model and other client and chat-related arguments for OpenAI API</li> <li>Save the model to the settings to use it by default next time</li> <li>You can define configs by LLM when using LLamaIndex</li> <li>Set the default package</li> <li>Disable streaming. By default, streaming is enabled.</li> <li>Print the response</li> <li>Display the response in Markdown format (requires iPython environment)</li> <li>Display the response in HTML format (requires iPython environment)</li> <li>Store the response in a static HTML file and display</li> <li>Specify a different cache directory. By default, stores data in <strong>./knowledge/pages/chat</strong> for pages, <strong>./knowledge/messages/chat</strong> for messages, and <strong>./knowledge/chat</strong> for everything else.</li> <li>Clear the cache directory before saving</li> <li>Create a temporary file</li> <li>When working with HTML, you can provide many arguments that are accepted by <a href=../../api/utils/knowledge/custom_assets/index.html#vectorbtpro.utils.knowledge.custom_assets.VBTAsset.to_html>VBTAsset.to_html</a></li> <li>When refresh rate is used, the streaming data is buffered and released periodically. Note that when displaying HTML, the minimum refresh rate is 1 second.</li> <li>In addition to displaying, the raw response can be forwarded to a file</li> <li>Customize the system and context prompts</li> </ol> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../indicators/index.html class="md-footer__link md-footer__link--prev" aria-label="Previous: Indicators"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Indicators </div> </div> </a> <a href=../optimization/index.html class="md-footer__link md-footer__link--next" aria-label="Next: Optimization"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Optimization </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2024 Oleg Polakow. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.linkedin.com/in/polakowo target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/polakowo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.instant", "navigation.instant.progress", "navigation.top", "navigation.prune", "navigation.path", "navigation.sections", "navigation.footer", "search.suggest", "search.share", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "toc.follow", "toc.integrate", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.94ab4cf4.min.js></script> <script src=../../assets/scripts/extra.js></script> </body> 
<!-- Mirrored from vectorbt.pro/pvt_1606a55a/cookbook/knowledge/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 25 Nov 2024 22:01:07 GMT -->
</html>